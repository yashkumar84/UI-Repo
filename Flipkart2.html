<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flipkart - The Big Billion Days Sale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      @keyframes slideIn {
        0% {
          transform: translateY(20px);
          opacity: 0;
        }
        100% {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .animate-slide-in {
        animation: slideIn 0.5s ease-out;
      }

      .animate-fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      .hover-scale:hover {
        transform: scale(1.05);
        transition: transform 0.3s ease-in-out;
      }

      .carousel-container::-webkit-scrollbar {
        display: none;
      }

      .gradient-overlay {
        background: linear-gradient(
          45deg,
          rgba(0, 0, 0, 0.1),
          rgba(255, 255, 255, 0.1)
        );
      }

      #mainPage,
      #cartPage {
        display: none;
      }

      #mainPage.active,
      #cartPage.active {
        display: block;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- HEADER/NAVBAR SECTION -->
    <header class="bg-white text-black shadow-lg sticky top-0 z-50">
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between py-3">
          <!-- Logo Section -->
          <div class="flex items-center space-x-4">
            <h1
              class="text-2xl font-bold italic text-blue-700 cursor-pointer"
              onclick="showPage('main')"
            >
              Flipkart
            </h1>
            <span class="text-xs italic opacity-75 font-bold"
              >Explore <span class="text-yellow-400">Plus</span>
              <i class="fas fa-star text-yellow-400"></i
            ></span>
          </div>

          <!-- Search Bar Section -->
          <div class="flex-1 max-w-2xl mx-8">
            <div class="relative">
              <input
                type="text"
                placeholder="Search for products, brands and more"
                class="w-full py-2 px-4 pl-12 text-gray-800 bg-[#F0F5FF] rounded-lg focus:outline-none"
              />
              <i class="fas fa-search absolute left-4 top-3 text-gray-400"></i>
            </div>
          </div>

          <div class="flex items-center space-x-6">
            <button
              class="hover:bg-blue-700 px-4 py-2 rounded transition-colors"
            >
              <i class="fas fa-user mr-2"></i>Login
            </button>
            <a href="#" class="hover:underline">Become a Seller</a>

            <div class="relative group">
              <button
                class="hover:bg-blue-700 px-2 py-2 rounded transition-colors"
              >
                More <i class="fas fa-chevron-down ml-1"></i>
              </button>
              <div
                class="absolute right-0 mt-4 w-48 bg-white text-gray-800 rounded-md shadow-lg opacity-0 invisible group-hover:visible group-hover:opacity-100 transition-all duration-200 z-10"
              >
                <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                  >Notification Preferences</a
                >
                <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                  >24x7 Customer Care</a
                >
                <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                  >Advertise</a
                >
                <a href="#" class="block px-4 py-2 hover:bg-gray-100"
                  >Download App</a
                >
              </div>
            </div>

            <div class="relative group">
              <button
                class="relative hover:bg-blue-700 px-3 py-2 rounded transition-colors"
                onclick="showPage('cart')"
              >
                <i class="fas fa-shopping-cart text-xl"></i>
                <span
                  id="cartBadge"
                  class="absolute -top-1 -right-1 bg-orange-500 text-xs rounded-full h-5 w-5 flex items-center justify-center"
                  >0</span
                >
              </button>

              <!-- Cart Popup -->
              <div
                id="cartPopup"
                class="absolute right-0 mt-4 w-80 bg-white text-gray-800 rounded-lg shadow-2xl opacity-0 invisible group-hover:visible group-hover:opacity-100 transition-all duration-200 z-10"
              >
                <div class="p-4 border-b border-gray-200">
                  <h3 class="font-bold text-lg">Shopping Cart</h3>
                </div>
                <div id="cartItems" class="max-h-96 overflow-y-auto">
                  <div class="p-4 text-center text-gray-500">
                    Your cart is empty
                  </div>
                </div>
                <div class="p-4 border-t border-gray-200">
                  <div class="flex justify-between items-center mb-3">
                    <span class="font-semibold">Total:</span>
                    <span id="cartTotal" class="font-bold text-xl text-blue-600"
                      >₹0</span
                    >
                  </div>
                  <button
                    onclick="showPage('cart')"
                    class="block w-full bg-blue-600 text-white text-center py-2 rounded-md hover:bg-blue-700 transition-colors font-medium"
                  >
                    View Full Cart
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- MAIN PAGE -->
    <div id="mainPage" class="active">
      <!-- Categories Section -->
      <section class="bg-gray-50 py-4">
        <div class="container mx-auto px-4">
          <div class="bg-white rounded-md shadow-sm p-6">
            <div class="grid grid-cols-3 md:grid-cols-6 lg:grid-cols-10 gap-4">
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/29327f40e9c4d26b.png?q=100"
                  alt="Grocery"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Grocery</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/22fddf3c7da4c4f4.png?q=100"
                  alt="Mobiles"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Mobiles</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/69c6589653afdb9a.png?q=100"
                  alt="Fashion"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Fashion</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/0ff199d1bd27eb98.png?q=100"
                  alt="Electronics"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Electronics</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/ab7e2b022a4587dd.jpg?q=100"
                  alt="Home"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Home</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/0ff199d1bd27eb98.png?q=100"
                  alt="Appliances"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Appliances</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/29327f40e9c4d26b.png?q=100"
                  alt="Travel"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Travel</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/22fddf3c7da4c4f4.png?q=100"
                  alt="Top Offers"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Top Offers</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/69c6589653afdb9a.png?q=100"
                  alt="Beauty, Toys & More"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Beauty, Toys & More</span>
              </div>
              <div
                class="flex flex-col items-center text-center hover-scale p-2 group cursor-pointer"
              >
                <img
                  src="https://rukminim1.flixcart.com/flap/128/128/image/0ff199d1bd27eb98.png?q=100"
                  alt="Two Wheelers"
                  class="w-16 h-16 mb-2"
                />
                <span class="text-sm font-medium">Two Wheelers</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Banner Carousel -->
      <section class="py-4">
        <div class="container mx-auto px-4">
          <div class="relative bg-white rounded-lg overflow-hidden shadow-lg">
            <div
              id="carousel"
              class="flex transition-transform duration-500 ease-in-out"
            >
              <div class="w-full flex-shrink-0 relative">
                <div
                  class="bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 h-64 flex items-center justify-center px-12"
                >
                  <div class="text-white animate-slide-in">
                    <h2 class="text-4xl font-bold mb-2">Big Billion Days</h2>
                    <p class="text-xl mb-4">The Biggest Sale Of Year</p>
                    <button
                      class="bg-white text-purple-600 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors"
                    >
                      Shop Now
                    </button>
                  </div>
                  <div class="hidden md:block">
                    <div
                      class="w-48 h-32 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"
                    >
                      <i class="fas fa-gift text-6xl text-white"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="w-full flex-shrink-0 relative">
                <div
                  class="bg-gradient-to-r from-blue-500 via-teal-500 to-green-500 h-64 flex items-center justify-center px-12"
                >
                  <div class="text-white animate-slide-in">
                    <h2 class="text-4xl font-bold mb-2">Super Saver Days</h2>
                    <p class="text-xl mb-4">Deals You Can't Miss</p>
                    <button
                      class="bg-white text-blue-600 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors"
                    >
                      Explore Now
                    </button>
                  </div>
                  <div class="hidden md:block">
                    <div
                      class="w-48 h-32 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"
                    >
                      <i class="fas fa-tags text-6xl text-white"></i>
                    </div>
                  </div>
                </div>
              </div>
              <div class="w-full flex-shrink-0 relative">
                <div
                  class="bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 h-64 flex items-center justify-center px-12"
                >
                  <div class="text-white animate-slide-in">
                    <h2 class="text-4xl font-bold mb-2">Mega Discount</h2>
                    <p class="text-xl mb-4">Up to 80% Off</p>
                    <button
                      class="bg-white text-orange-600 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors"
                    >
                      Grab Deals
                    </button>
                  </div>
                  <div class="hidden md:block">
                    <div
                      class="w-48 h-32 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"
                    >
                      <i class="fas fa-percentage text-6xl text-white"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Carousel Controls -->
            <button
              id="prevBtn"
              class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 text-gray-800 rounded-full p-2 shadow-lg"
            >
              <i class="fas fa-chevron-left"></i>
            </button>
            <button
              id="nextBtn"
              class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 text-gray-800 rounded-full p-2 shadow-lg"
            >
              <i class="fas fa-chevron-right"></i>
            </button>

            <!-- Carousel indicators -->
            <div
              class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2"
            >
              <button
                class="w-3 h-3 rounded-full bg-white bg-opacity-60 indicator active"
              ></button>
              <button
                class="w-3 h-3 rounded-full bg-white bg-opacity-60 indicator"
              ></button>
              <button
                class="w-3 h-3 rounded-full bg-white bg-opacity-60 indicator"
              ></button>
            </div>
          </div>
        </div>
      </section>

      <!-- Products Section -->
      <section class="py-6">
        <div class="container mx-auto px-4">
          <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Deals Of the Day</h2>
            <a href="#" class="text-blue-600 hover:underline font-medium"
              >View All</a
            >
          </div>

          <div class="relative">
            <div
              id="productCarousel"
              class="flex space-x-4 overflow-x-auto carousel-container pb-4"
            >
              <!-- Products will be loaded here -->
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- CART PAGE -->
    <div id="cartPage">
      <section class="py-8 min-h-screen">
        <div class="container mx-auto px-4">
          <div class="flex items-center mb-6">
            <button
              onclick="showPage('main')"
              class="text-blue-600 hover:underline flex items-center"
            >
              <i class="fas fa-arrow-left mr-2"></i> Continue Shopping
            </button>
          </div>

          <h1 class="text-3xl font-bold text-gray-800 mb-8">Shopping Cart</h1>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Cart Items Section -->
            <div class="lg:col-span-2">
              <div id="fullCartItems" class="space-y-4">
                <!-- Cart items will be rendered here -->
              </div>
            </div>

            <!-- Order Summary Section -->
            <div class="lg:col-span-1">
              <div class="bg-white rounded-lg shadow-md p-6 sticky top-24">
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                  Order Summary
                </h2>

                <div class="space-y-3 mb-4">
                  <div class="flex justify-between text-gray-600">
                    <span
                      >Subtotal (<span id="summaryItemCount">0</span>
                      items)</span
                    >
                    <span id="summarySubtotal">₹0</span>
                  </div>
                  <div class="flex justify-between text-gray-600">
                    <span>Shipping</span>
                    <span class="text-green-600 font-semibold">FREE</span>
                  </div>
                  <div class="flex justify-between text-gray-600">
                    <span>Tax (18%)</span>
                    <span id="summaryTax">₹0</span>
                  </div>
                  <hr class="my-2" />
                  <div
                    class="flex justify-between text-lg font-bold text-gray-900"
                  >
                    <span>Total</span>
                    <span id="summaryTotal">₹0</span>
                  </div>
                </div>

                <button
                  class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold mb-3"
                >
                  Proceed to Checkout
                </button>

                <div class="text-center text-sm text-gray-500">
                  <i class="fas fa-lock mr-1"></i> Secure Checkout
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 class="font-bold text-lg mb-4">About</h3>
            <ul class="space-y-2 text-gray-400">
              <li><a href="#" class="hover:text-white">Contact Us</a></li>
              <li><a href="#" class="hover:text-white">About Us</a></li>
              <li><a href="#" class="hover:text-white">Careers</a></li>
            </ul>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-4">Help</h3>
            <ul class="space-y-2 text-gray-400">
              <li><a href="#" class="hover:text-white">Payments</a></li>
              <li><a href="#" class="hover:text-white">Shipping</a></li>
              <li><a href="#" class="hover:text-white">Returns</a></li>
            </ul>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-4">Policy</h3>
            <ul class="space-y-2 text-gray-400">
              <li><a href="#" class="hover:text-white">Return Policy</a></li>
              <li><a href="#" class="hover:text-white">Terms Of Use</a></li>
              <li><a href="#" class="hover:text-white">Security</a></li>
            </ul>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-4">Social</h3>
            <div class="flex space-x-4">
              <a href="#" class="text-gray-400 hover:text-white"
                ><i class="fab fa-facebook text-2xl"></i
              ></a>
              <a href="#" class="text-gray-400 hover:text-white"
                ><i class="fab fa-twitter text-2xl"></i
              ></a>
              <a href="#" class="text-gray-400 hover:text-white"
                ><i class="fab fa-instagram text-2xl"></i
              ></a>
            </div>
          </div>
        </div>
        <div
          class="mt-8 pt-8 border-t border-gray-800 text-center text-gray-400"
        >
          <p>&copy; 2025 Flipkart Clone. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // Cart Management
      let cart = [];
      let cartCount = 0;
      const cartBadge = document.getElementById("cartBadge");
      const cartItems = document.getElementById("cartItems");
      const cartTotal = document.getElementById("cartTotal");

      function addToCart(product) {
        const existingItem = cart.find((item) => item.id === product.id);

        if (existingItem) {
          existingItem.quantity++;
        } else {
          cart.push({
            ...product,
            quantity: 1,
          });
        }

        cartCount++;
        updateCartUI();
      }

      function removeFromCart(productId) {
        const itemIndex = cart.findIndex((item) => item.id === productId);
        if (itemIndex > -1) {
          cartCount -= cart[itemIndex].quantity;
          cart.splice(itemIndex, 1);
          updateCartUI();
        }
      }

      function updateQuantity(productId, change) {
        const item = cart.find((item) => item.id === productId);
        if (item) {
          item.quantity += change;
          cartCount += change;

          if (item.quantity <= 0) {
            removeFromCart(productId);
          } else {
            updateCartUI();
          }
        }
      }

      function updateCartUI() {
        cartBadge.textContent = cartCount;

        // Update mini cart popup
        if (cart.length === 0) {
          cartItems.innerHTML =
            '<div class="p-4 text-center text-gray-500">Your cart is empty</div>';
          cartTotal.textContent = "₹0";
        } else {
          let total = 0;
          cartItems.innerHTML = cart
            .map((item) => {
              const itemTotal = item.price * 80 * item.quantity;
              total += itemTotal;

              return `
              <div class="p-4 border-b border-gray-100 hover:bg-gray-50">
                <div class="flex space-x-3">
                  <img src="${item.image}" alt="${
                item.title
              }" class="w-16 h-16 object-contain">
                  <div class="flex-1">
                    <h4 class="text-sm font-semibold text-gray-800 truncate">${item.title.substring(
                      0,
                      30
                    )}...</h4>
                    <p class="text-xs text-gray-500 mt-1">₹${(
                      item.price * 80
                    ).toFixed(2)}</p>
                    <div class="flex items-center space-x-2 mt-2">
                      <button onclick="updateQuantity(${
                        item.id
                      }, -1)" class="w-6 h-6 bg-gray-200 rounded text-sm hover:bg-gray-300">-</button>
                      <span class="text-sm font-medium">${item.quantity}</span>
                      <button onclick="updateQuantity(${
                        item.id
                      }, 1)" class="w-6 h-6 bg-gray-200 rounded text-sm hover:bg-gray-300">+</button>
                      <button onclick="removeFromCart(${
                        item.id
                      })" class="ml-auto text-red-500 text-xs hover:text-red-700">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            `;
            })
            .join("");

          cartTotal.textContent = `₹${total.toFixed(2)}`;
        }

        // Update full cart page
        updateFullCartPage();
      }

      function updateFullCartPage() {
        const fullCartItems = document.getElementById("fullCartItems");

        if (cart.length === 0) {
          fullCartItems.innerHTML = `
            <div class="bg-white rounded-lg shadow-md p-12 text-center">
              <i class="fas fa-shopping-cart text-6xl text-gray-300 mb-4"></i>
              <h2 class="text-2xl font-bold text-gray-800 mb-2">Your cart is empty</h2>
              <p class="text-gray-600 mb-6">Add items to get started</p>
              <button onclick="showPage('main')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                Continue Shopping
              </button>
            </div>
          `;
        } else {
          fullCartItems.innerHTML = cart
            .map((item) => {
              const itemPrice = item.price * 80;
              const itemTotal = itemPrice * item.quantity;

              return `
              <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex flex-col md:flex-row gap-6">
                  <div class="w-full md:w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <img src="${item.image}" alt="${
                item.title
              }" class="max-w-full max-h-full object-contain p-2">
                  </div>
                  
                  <div class="flex-1">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">${
                      item.title
                    }</h3>
                    <p class="text-gray-600 text-sm mb-4">${item.description.substring(
                      0,
                      100
                    )}...</p>
                    
                    <div class="flex items-center space-x-4 mb-4">
                      <div class="flex text-yellow-400">
                        ${Array(5)
                          .fill('<i class="fas fa-star text-xs"></i>')
                          .join("")}
                      </div>
                      <span class="text-gray-500 text-sm">(${
                        item.rating.rate
                      })</span>
                    </div>

                    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                      <div>
                        <span class="text-2xl font-bold text-gray-900">₹${itemPrice.toFixed(
                          2
                        )}</span>
                        <span class="text-sm text-gray-500 line-through ml-2">₹${(
                          itemPrice * 2.5
                        ).toFixed(2)}</span>
                      </div>

                      <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-3 bg-gray-100 rounded-lg px-4 py-2">
                          <button onclick="updateQuantity(${
                            item.id
                          }, -1)" class="w-8 h-8 bg-white rounded hover:bg-gray-200 transition-colors">
                            <i class="fas fa-minus text-sm"></i>
                          </button>
                          <span class="font-semibold text-lg w-8 text-center">${
                            item.quantity
                          }</span>
                          <button onclick="updateQuantity(${
                            item.id
                          }, 1)" class="w-8 h-8 bg-white rounded hover:bg-gray-200 transition-colors">
                            <i class="fas fa-plus text-sm"></i>
                          </button>
                        </div>

                        <button onclick="removeFromCart(${
                          item.id
                        })" class="text-red-500 hover:text-red-700 font-medium">
                          <i class="fas fa-trash mr-1"></i> Remove
                        </button>
                      </div>
                    </div>

                    <div class="mt-4 text-right">
                      <span class="text-gray-600">Subtotal: </span>
                      <span class="text-xl font-bold text-gray-900">₹${itemTotal.toFixed(
                        2
                      )}</span>
                    </div>
                  </div>
                </div>
              </div>
            `;
            })
            .join("");
        }

        // Update order summary
        const subtotal = cart.reduce(
          (sum, item) => sum + item.price * 80 * item.quantity,
          0
        );
        const tax = subtotal * 0.18;
        const total = subtotal + tax;

        document.getElementById("summaryItemCount").textContent = cartCount;
        document.getElementById(
          "summarySubtotal"
        ).textContent = `₹${subtotal.toFixed(2)}`;
        document.getElementById("summaryTax").textContent = `₹${tax.toFixed(
          2
        )}`;
        document.getElementById("summaryTotal").textContent = `₹${total.toFixed(
          2
        )}`;
      }

      // Page Navigation
      function showPage(page) {
        const mainPage = document.getElementById("mainPage");
        const cartPage = document.getElementById("cartPage");

        if (page === "main") {
          mainPage.classList.add("active");
          cartPage.classList.remove("active");
          window.scrollTo(0, 0);
        } else if (page === "cart") {
          mainPage.classList.remove("active");
          cartPage.classList.add("active");
          updateFullCartPage();
          window.scrollTo(0, 0);
        }
      }

      // Carousel functionality
      let currentSlide = 0;
      const totalSlides = 3;
      const carousel = document.getElementById("carousel");
      const indicators = document.querySelectorAll(".indicator");

      function showSlide(slideIndex) {
        carousel.style.transform = `translateX(-${slideIndex * 100}%)`;

        indicators.forEach((dot, index) => {
          if (index === slideIndex) {
            dot.classList.add("active", "bg-opacity-100");
            dot.classList.remove("bg-opacity-60");
          } else {
            dot.classList.remove("active", "bg-opacity-100");
            dot.classList.add("bg-opacity-60");
          }
        });
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        showSlide(currentSlide);
      }

      function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        showSlide(currentSlide);
      }

      document.getElementById("nextBtn").addEventListener("click", nextSlide);
      document.getElementById("prevBtn").addEventListener("click", prevSlide);

      indicators.forEach((dot, index) => {
        dot.addEventListener("click", () => {
          currentSlide = index;
          showSlide(currentSlide);
        });
      });

      setInterval(nextSlide, 5000);
      showSlide(currentSlide);

      // Fetch and display products
      const getData = async () => {
        try {
          const response = await fetch("https://fakestoreapi.com/products");
          const data = await response.json();
          return data;
        } catch (error) {
          console.error("Error fetching products:", error);
          return [];
        }
      };

      window.addEventListener("load", initEvents);

      async function initEvents() {
        const data = await getData();
        printProducts(data);
        showPage("main");
      }

      function printProducts(data) {
        const productCarousel = document.getElementById("productCarousel");
        productCarousel.innerHTML = "";
        data.forEach((product) => printCard(product, productCarousel));
        setUpButtons();
      }

      function printCard(product, productCarousel) {
        const card = `<div
              class="flex-shrink-0 w-64 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 hover-scale"
            >
              <div class="relative overflow-hidden rounded-t-lg">
                <div class="h-48 bg-gray-200 flex items-center justify-center p-4">
                  <img class="max-w-full max-h-full object-contain" src="${
                    product.image
                  }" alt="${product.title}">
                </div>

                <div
                  class="absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold"
                >
                  65% OFF
                </div>

                <button
                  class="absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors"
                >
                  <i class="far fa-heart text-gray-600"></i>
                </button>
              </div>

              <div class="p-4">
                <h3 class="font-semibold text-gray-800 mb-2 truncate">
                  ${product.title.substring(0, 30)}
                </h3>
                <p class="text-gray-600 text-sm mb-2 h-10 overflow-hidden">${product.description.substring(
                  0,
                  50
                )}...</p>
                <div class="flex items-center space-x-2 mb-2">
                  <span class="text-lg font-bold text-gray-900">₹${(
                    product.price * 80
                  ).toFixed(2)}</span>
                  <span class="text-sm text-gray-500 line-through">₹${(
                    product.price *
                    80 *
                    2.5
                  ).toFixed(2)}</span>
                </div>

                <div class="flex items-center space-x-2 mb-3">
                  <div class="flex text-yellow-400">
                    <i class="fas fa-star text-xs"></i>
                    <i class="fas fa-star text-xs"></i>
                    <i class="fas fa-star text-xs"></i>
                    <i class="fas fa-star text-xs"></i>
                    <i class="fas fa-star text-xs"></i>
                  </div>
                  <span class="text-gray-500 text-xs">(${
                    product.rating.rate
                  })</span>
                </div>

                <button
                  class="add-to-cart-btn w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors font-medium"
                  data-id="${product.id}"
                >
                  Add To Cart
                </button>
              </div>
            </div>`;

        productCarousel.insertAdjacentHTML("beforeend", card);
      }

      function setUpButtons() {
        document.querySelectorAll(".add-to-cart-btn").forEach((button) => {
          button.addEventListener("click", async function () {
            const productId = parseInt(this.getAttribute("data-id"));

            try {
              const response = await fetch(
                `https://fakestoreapi.com/products/${productId}`
              );
              const product = await response.json();

              addToCart(product);

              const originalText = this.textContent;
              this.textContent = "Added!";
              this.classList.remove("bg-blue-600", "hover:bg-blue-700");
              this.classList.add("bg-green-600");

              setTimeout(() => {
                this.textContent = originalText;
                this.classList.remove("bg-green-600");
                this.classList.add("bg-blue-600", "hover:bg-blue-700");
              }, 1500);
            } catch (error) {
              console.error("Error adding to cart:", error);
            }
          });
        });
      }
    </script>
  </body>
</html>
